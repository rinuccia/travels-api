Техническое задание.
================
Спроектировать API и реализовать HTTP/REST сервис с использованием языка Golang и БД Postgres. Формат обмена данными JSON.

Структура данных.
----------------
Имеются записи о трех сущностях: __User__, __Location__ и __Visit__. Эти сущности описывают путешествия людей по разным
достопримечательностям и могут быть основой для небольшого сервиса «В помощь путешественнику». Они содержат данные о
собственно профиле пользователя, достопримечательности и посещении конкретным пользователем конкретного места.

### В `User` записаны следующие данные:

* `id` - уникальный внешний идентификатор пользователя. 32-разрядное целое беззнаковое число.
* `email` - адрес электронной почты пользователя. Тип - unicode-строка длиной до 100 символов. Уникальное поле.
* `first_name` и `last_name` - имя и фамилия соответственно. Тип - unicode-строки длиной до 50 символов.
* `gender` - unicode-строка *m* означает мужской пол, а *f* - женский.

### В `Location` записаны следующие данные:

* `id` - уникальный внешний id достопримечательности. 32-разрядное целое беззнаковое число.
* `place` - описание достопримечательности. Текстовое поле неограниченной длины.
* `country` - название страны расположения. Unicode-строка длиной до 50 символов.

### В `Visit` записаны следующие данные:

* `id` - уникальный внешний id посещения. 32-разрядное целое беззнаковое число.
* `location` - id достопримечательности. 32-разрядное целое беззнаковое число.
* `user` - id путешественника. 32-разрядное целое беззнаковое число.
* `visited_at` - дата посещения, unicode-строка в формате "2006-01-02".
* `mark` - оценка посещения от 0 до 5 включительно. Целое число.

> Поля не содержат `null`.

> Все поля являются обязательными.

> Один и тот же путешественник может много раз посещать одни и те же достопримечательности с разными оценками.

Описание API
============

Маршруты URL построены в соответствии с парадигмой __REST__. В угловых скобках представлены динамические части URL. 

Методы выборки данных (GET):
---
### 1. Получение данных о сущности: 

> `/user/<id>`

> `/location/<id>`

В ответе ожидается код __404__, если сущности с указанным идентификатором нет в данных.
Иначе, все собственные поля, включая идентификатор.

Пусть пользователь с `id` = 1 существует. Пример ответа на запрос:  `GET: /user/1`

`HTTP Status Code: 200`

```json
    {
        "user_id": 1,
        "email": "johndoe@gmail.com",
        "first_name": "John",
        "last_name": "Doe",
        "gender": "m"
    }
```

---
### 2. Получение списка всех существующих локаций:

> `/locations`

Пример ответа на запрос:  `GET: /locations`:

`HTTP Status Code: 200`

```json
{
  "list":   
        [
          {
            "location_id": 1,
            "place": "Red Square",
            "country": "RF"
          },
          {
            "location_id": 2,
            "place": "Eiffel Tower",
            "country": "France"
          },
          {
            "location_id": 3,
            "place": "Grand Canyon",
            "country": "USA"
          }
        ]
}
```

---
### 3.  Получение списка мест, которые посетил пользователь: 

> `/visits/user/<id>`

В теле ответа ожидается структура `{"visits": [ ... ]}`, отсортированная по возрастанию дат.
В случае если пользователя с переданным `id` нет - ожидается __404__.

Пусть пользователь с `id` = 1 существует. Пример ответа на запрос:  `GET: /visits/user/1`

`HTTP Status Code: 200`

```json
    {
        "visits": [
            {
                "place": "Red Square",
                "country": "RF",
                "visited_at": "2018-06-15",
                "mark": 3
            },
            {
                "place": "Grand Canyon",
                "country": "USA",
                "visited_at": "2021-08-02",
                "mark": 4
            }
         ]
    }
```

---
### 4. Получение средней оценки достопримечательности: 

> `/location/<id>/avg`

В ответе ожидается одно число, с точностью до 2 десятичных знаков (округляется по стандартным математическим правилам
округления`(round)`), либо код __404__ - если локация с таким __id__ отсутствует. Если просто нет посещений, то {"avg": 0}

Пусть локация с __id__ __1__ существует. Пример ответа на запрос: `GET: /location/1/avg`

`HTTP Status Code: 200`

```json
    {
        "avg": 3.43
    }
```

---
Методы добавления данных (POST)
--------------------------------
### 1.  Добавление новой сущности: 

> `/user/new`
 
> `/location/new`

> `/visit/new`

В ответе ожидается код 200 с информацией о созданной сущности в теле ответа, если создание прошло успешно. В случае
некорректных данных - код 400.

При создании сущности все поля являются обязательными.

В случае попытки создания сущности с id, уже существующим в текущих данных, ожидается код ошибки 400.

Пример запроса `POST: /user/new`

```json
    {
        "user_id": 1,
        "email": "foobar@mail.ru",
        "first_name": "Маша",
        "last_name": "Пушкина",
        "gender": "f"
    }
 ```

Ответ: `HTTP Status Code: 200`

```json
    {
        "user_id": 1,
        "email": "foobar@mail.ru",
        "first_name": "Маша",
        "last_name": "Пушкина",
        "gender": "f"
}
```

---
Методы обновления данных (PUT)
-------------------------------
### 1. Обновление данных о сущности: 

> `/user/<id>`

В ответе ожидается код __204__, если обновление прошло успешно, __404__ - если запись не существовала в данных или __400__,
если в теле запроса некорректные данные.

Пусть пользователь с `id` = 1 существует. Пример тела запроса:  `PUT: /user/1`

```json
    {
        "user_id": 1,
        "email": "test@gmail.com",
        "first_name": "Jessie",
        "last_name": "Pinkman",
        "gender": "f"
    }    
 ```

Ответ: `HTTP Status Code: 204`

---
Методы удаления данных (DELETE)
-------------------------------
### 1. Удаление данных о сущности:

>`/visit/<>`

В ответе ожидается код __204__, если удаление прошло успешно, __404__ - если запись не существовала в данных.

Пусть визит с `id` = 1 существует. Пример ответа на запрос:  `DELETE: /visit/1`

`HTTP Status Code: 204`